# 一、物理结构

- [倒立摆入门详解+pid调参_Smalld_cat的博客-CSDN博客_倒立摆](https://blog.csdn.net/small_po_kid/article/details/107659413)
  - 外设初始化

#二、小车倒立摆物理建模并通过MATLAB求解

##1.物理建模

- [(倒立摆模型分析_-Willing-的博客-CSDN博客_倒立摆模型](https://blog.csdn.net/Cui_Hongwei/article/details/109771622)（仅采用物理建模部分）
- 其中物理模型建立的部分来自：[[1]翟龙余.一级倒立摆仿真模型的建立](assets/一级倒立摆仿真模型的建立.pdf)
  
- ~~拉普拉斯变换将微分方程转化成传递函数来自：[由拉普拉斯变换到传递函数 ](https://zhuanlan.zhihu.com/p/146769901)~~
  
- ~~传递函数的求解来自：[一阶倒立摆的PID控制和LQR控制 ](https://zhuanlan.zhihu.com/p/54071212)~~
  
- 使用传递函数进行建模的完整过程：~~[一级倒立摆物理建模、传递函数和状态方程的推导](assets/一级倒立摆物理建模、传递函数和状态方程的推导.pdf)~~

### 1.2传递函数求解

- 将微分方程转换成代数方程，然后进行求解，求解方式如下
  - [状态空间模型与传递函数的转换关系+例题_百把人的博客-CSDN博客_传递函数转状态空间](https://blog.csdn.net/sheagu/article/details/114310271)
- 一般来说，求解出传递函数后，就可以使用MATLAB进行状态空间方程的求解
  - [传递函数的几种Matlab输入方式_lpflpf5678的博客-CSDN博客_simulink传递函数怎么输入](https://blog.csdn.net/lpflpf5678/article/details/113852538)
  - [MATLAB-微分方程or传递函数转换成状态空间表达式_Blablabla...的博客-CSDN博客_tf2ss](https://blog.csdn.net/csc0007/article/details/120254854)
  - [实验——MATLAB系统的传递函数和状态空间表达式的转换](https://www.docin.com/p-1261495097.html)

##2.微分方程求解

- [直线一级倒立摆数学建模与控制仿真_little rubbish的博客-CSDN博客_小车倒立摆数学建模](https://blog.csdn.net/bedelia/article/details/124611273)
  - 其中仅通过一次转换就得到了状态空间方程
  - 关于状态空间方程部分概念的解析
    - [现代控制理论（一） 状态空间方程_德丽莎世界第一可爱biuu~的博客-CSDN博客_状态空间方程](https://blog.csdn.net/weixin_42608159/article/details/117091179)
    - [【现代控制理论（二）】系统的能控能观_德丽莎世界第一可爱biuu~的博客-CSDN博客_传递函数写出能控标准型](https://blog.csdn.net/weixin_42608159/article/details/125411992)

## 3.状态空间方程的解析

- 使用LQR控制
  - 需要A阵、B阵、Q阵、R阵
    - A阵、B阵来自物理建模分析（使用动力学方程求解和使用拉格朗日方程求解得到的结果一样）
    - Q阵：为系统状态的权重，对角阵，元素越大，意味着该状态变量越重要，控制收敛的也更快。
    - R阵：为控制量的权重，对角阵，元素越大，意味着控制约束越大，控制输出量就减小。在这里我们设置为1。


## 4.使用MATLAB求解K值

- 使用MATLAB中的`K=lqr(A,B,Q,R)`函数，求解出K值
- 使用该公式$U=[K_1, K_2, K_3, K_4]\times\begin{bmatrix} x\\ \dot{x}\\ \psi\\ \dot{\psi} \end{bmatrix}$确定输出量u

#三、旋转倒立摆物理建模并通过MATLAB求解

##1.物理建模及微分方程的求解



##2.状态空间方程的的解析



##3.simelink建模

