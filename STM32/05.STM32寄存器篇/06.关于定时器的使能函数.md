### 预装载寄存器使能

- 捕获/比较模式寄存器 1 (TIMx_CCMR1)
  - 位 3 OC1PE：输出比较 1 预装载使能
    - 0:禁止与 TIMx_CCR1 相关的预装载寄存器。可随时向 TIMx_CCR1 写入数据，写入后将立  即使用新值。
    - 1：使能与 TIMx_CCR1 相关的预装载寄存器。可读/写访问预装载寄存器。TIMx_CCR1 预  装载值在每次生成更新事件时都会装载到活动寄存器中。
  - 位 11 OC2PE：输出比较 2 预装载使能
    - 略
- 捕获/比较模式寄存器 2 (TIMx_CCMR2)
  - 位 3 OC3PE：输出比较 3 预装载使能
    - 略
  - 位 11 OC4PE：输出比较 4 预装载使能
    - 略

```C
TIMx->CCMRx |= TIM_CCMRx_OCxPE;
```

### 自动重载预装载使能

- 控制寄存器 1 (TIMx_CR1)
- 位 7 ARPE：自动重载预装载使能
  - 0：TIMx_ARR 寄存器不进行缓冲  
  - 1：TIMx_ARR 寄存器进行缓冲

```C
TIMx->CR1 |= TIM_CR1_ARPE;
```

### 刹车和死区寄存器主输出使能（仅TIM1 和 TIM8）

- TIM1 和 TIM8 断路和死区寄存器 (TIMx_BDTR)
- 位 15 MOE：主输出使能
- 如果不使能，TIM1将不能输出PWM

```c
TIM1->BDTR |= TIM_BDTR_MOE;
```

### 定时器使能

- 控制寄存器 1 (TIMx_CR1)
- 位 0 CEN：计数器使能
  - 0：禁止计数器
  - 1：使能计数器

```C
TIMx->CR1 |= 1<<0;
```

### 定时器中断使能

在STM32F407中，除了 TIM10/11/13/14没有 TIMx_DIER 中断使能寄存器，其他定时器都有中断使能定时器 TIMx_DIER。

在定时器中断的使能中 只需要将其 位 0 UIE：更新中断使能 置 1即可
